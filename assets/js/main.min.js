!function(){"use strict";const e=window.safeQuery,t=window.safeQueryAll,o=()=>{try{if(!document.body)return;const e=t("[data-token-value]");if(!e.length)return;const o=window.getComputedStyle(document.body);e.forEach(e=>{const t=e.getAttribute("data-token-value");if(!t)return;const n=o.getPropertyValue(t);n&&(e.textContent=n.trim())})}catch(e){console.error("Error updating token values:",e)}},n=()=>{(()=>{const t=e(".page-spinner");t&&(t.classList.add("hidden"),setTimeout(()=>{t.remove()},400))})(),setTimeout(()=>{document.documentElement.classList.add("loaded")},50)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n(),document.addEventListener("DOMContentLoaded",()=>{o();try{const e=document.getElementById("year");e?e.textContent=(new Date).getFullYear():console.warn('Footer year element not found (id="year")')}catch(e){console.error("Error updating footer year:",e)}const n=t=>{t&&t.stopPropagation();return(t=>{if(!document.body)return void console.error("Body element not found!");document.body.setAttribute("data-theme",t),document.documentElement.setAttribute("data-theme",t);try{localStorage.setItem("theme",t)}catch(e){console.warn("Could not save theme to localStorage:",e)}document.body.offsetHeight,document.documentElement.offsetHeight;const n=e(".hero");n&&(n.style.setProperty("--transition-opacity","0"),setTimeout(()=>{n.offsetHeight,setTimeout(()=>{n.style.setProperty("--transition-opacity","1")},10)},100)),o()})("light"===(document.body?.getAttribute("data-theme")||"dark")?"dark":"light"),!1},s=localStorage.getItem("theme")||"dark";document.body?(document.body.setAttribute("data-theme",s),document.documentElement.setAttribute("data-theme",s),o()):document.addEventListener("DOMContentLoaded",()=>{document.body.setAttribute("data-theme",s),document.documentElement.setAttribute("data-theme",s),o()});const a=()=>{const e="light"===("light"===(document.body.getAttribute("data-theme")||"dark")?"dark":"light")?"assets/images/heros/white-rider-lg":"assets/images/heros/black-rider-lg",t=new Image;t.src=`${e}.webp`,t.onerror=()=>{t.src=`${e}.jpg`}};"complete"===document.readyState?a():window.addEventListener("load",a),document.addEventListener("click",e=>{e.target.closest(".theme-toggle")&&n(e)});const d=()=>{t(".theme-toggle").forEach(e=>{e&&!e.dataset.themeListenerAttached&&(e.addEventListener("click",n),e.dataset.themeListenerAttached="true")})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):d(),setTimeout(d,100);try{const t=e(".site-header");if(t){let o=!1;const n=e(".hero");let s=0,a=0;const d=()=>{if(n){const e=n.getBoundingClientRect();s=e.height,a=e.top+window.scrollY}};"complete"===document.readyState?d():window.addEventListener("load",()=>{d(),r()}),window.addEventListener("resize",()=>{d(),o||(window.requestAnimationFrame(r),o=!0)},{passive:!0});const i=275,r=()=>{const e=window.scrollY||window.pageYOffset;if(n){e>=a+s?(t.classList.add("site-header--fixed"),document.body.classList.add("navbar-fixed")):(t.classList.remove("site-header--fixed"),document.body.classList.remove("navbar-fixed"))}else t.classList.add("site-header--fixed"),document.body.classList.add("navbar-fixed");e>i?(t.classList.add("site-header--scrolled"),document.body.classList.add("navbar-scrolled")):(t.classList.remove("site-header--scrolled"),document.body.classList.remove("navbar-scrolled")),t.classList.remove("site-header--hidden"),o=!1},c=()=>{o||(window.requestAnimationFrame(r),o=!0)};setTimeout(()=>{d(),r()},100),window.addEventListener("scroll",c,{passive:!0}),window.addEventListener("touchmove",c,{passive:!0})}else console.warn("Site header not found")}catch(e){console.error("Error initializing scroll-responsive navigation:",e)}const i=e(".nav"),r=e(".nav__burger"),c=e(".nav__overlay"),l=e(".nav__mobile-menu"),m=e(".nav__mobile-close"),u=t(".nav__mobile-menu .nav__link"),y=()=>{l?.querySelector(".theme-toggle")};if(i&&r&&c&&l){let t=!1,o=null,n=0;const s=()=>{if(t)return;t=!0,i.setAttribute("data-menu-open","true"),r.setAttribute("aria-expanded","true"),n=window.pageYOffset||document.documentElement.scrollTop||0,document.body.style.position="fixed",document.body.style.top=`-${n}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%",document.body.style.overflow="hidden",document.body.classList.add("nav-menu-open"),o=document.activeElement;const s=e('a, button, input, [tabindex]:not([tabindex="-1"])',l);s&&setTimeout(()=>s.focus(),100),y()},a=()=>{t&&(t=!1,i.setAttribute("data-menu-open","false"),r.setAttribute("aria-expanded","false"),document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width="",document.body.style.overflow="",document.body.classList.remove("nav-menu-open"),window.scrollTo(0,n),o&&(o.focus(),o=null))};let d;r.addEventListener("click",e=>{e.stopPropagation(),t?a():s()}),c.addEventListener("click",()=>{a()}),m&&m.addEventListener("click",()=>{a()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t&&a()}),u.forEach(e=>{e.addEventListener("click",()=>{a()})}),window.addEventListener("resize",()=>{clearTimeout(d),d=setTimeout(()=>{window.innerWidth>600&&t&&a()},100)}),y()}(()=>{const e=t(".nav__link"),o=window.location.pathname,n=o.split("/").pop()||"index.html";e.forEach(e=>{const t=e.getAttribute("href");e.classList.remove("is-active"),""!==n&&"index.html"!==n&&"/"!==o&&!o.endsWith("/")||"index.html"!==t?t===n&&e.classList.add("is-active"):e.classList.add("is-active")})})();const b=e(".footer__email-input"),h=e(".footer__subscribe-btn"),v=()=>{if(b&&h){const e=b.value.trim(),t=window.validateEmail?window.validateEmail(e):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);h.disabled=!t}};b&&h&&(h.disabled=!0,b.addEventListener("input",v),b.addEventListener("blur",v));try{const t=document.getElementById("contact-form"),o=document.getElementById("form-messages"),n=document.getElementById("submit-btn"),s="https://formspree.io/f/YOUR_FORM_ID";if(t&&o&&n){e(".btn__text",n),e(".btn__spinner",n);const a=(e,t)=>{o.textContent=e,o.className=`form__messages form__messages--${t}`,o.style.display="block",o.scrollIntoView({behavior:"smooth",block:"nearest"}),"error"===t&&setTimeout(()=>{o.style.display="none"},5e3)},d=()=>{n.disabled=!0,n.classList.add("btn--loading")},i=()=>{n.disabled=!1,n.classList.remove("btn--loading")};t.addEventListener("submit",async e=>{if(e.preventDefault(),o.style.display="none",!t.checkValidity())return void t.reportValidity();const n=new FormData(t),r=Object.fromEntries(n);d();try{const e=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r)});if(e.ok)a("Thank you! Your message has been sent successfully.","success"),t.reset();else{const t=(await e.json().catch(()=>({}))).error||"There was an error sending your message. Please try again.";a(t,"error")}}catch(e){console.error("Form submission error:",e),a("Unable to send message. Please check your connection and try again.","error")}finally{i()}})}else;}catch(e){console.error("Error initializing contact form:",e)}try{const t=e(".footer__newsletter"),o=e(".footer__email-input"),n=e(".footer__subscribe-btn"),s="https://formspree.io/f/YOUR_NEWSLETTER_FORM_ID";if(t&&o&&n){let a=e(".newsletter__message",t);a||(a=document.createElement("div"),a.className="newsletter__message",a.setAttribute("role","alert"),a.setAttribute("aria-live","polite"),a.style.display="none",t.insertBefore(a,o));const d=(e,t)=>{a.textContent=e,a.className=`newsletter__message newsletter__message--${t}`,a.style.display="block","error"===t?setTimeout(()=>{a.style.display="none"},5e3):setTimeout(()=>{a.style.display="none"},1e4)},i=async e=>{e.preventDefault();const t=o.value.trim(),a=window.validateEmail?window.validateEmail(t):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t);if(t&&a){n.disabled=!0,n.classList.add("btn--loading");try{const e=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:t})});if(e.ok)d("Thank you! You have been subscribed successfully.","success"),o.value="",n.disabled=!0,n.classList.remove("btn--loading");else{const t=(await e.json().catch(()=>({}))).error||"There was an error subscribing. Please try again.";d(t,"error"),n.disabled=!1,n.classList.remove("btn--loading")}}catch(e){console.error("Newsletter subscription error:",e),d("Unable to subscribe. Please check your connection and try again.","error"),n.disabled=!1,n.classList.remove("btn--loading")}}else d("Please enter a valid email address.","error")};o.addEventListener("keydown",e=>{"Enter"!==e.key||n.disabled||(e.preventDefault(),i(e))}),n.addEventListener("click",i)}else;}catch(e){console.error("Error initializing newsletter subscription:",e)}})}();