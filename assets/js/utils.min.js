function throttle(e,t){let o;return function(){const r=arguments,n=this;o||(e.apply(n,r),o=!0,setTimeout(()=>o=!1,t))}}function debounce(e,t){let o;return function(){const r=this,n=arguments;clearTimeout(o),o=setTimeout(()=>e.apply(r,n),t)}}function formatDate(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}async function copyToClipboard(e){try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(e),!0;const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",t.style.left="-9999px",document.body.appendChild(t),t.select();try{const e=document.execCommand("copy");return document.body.removeChild(t),e}catch(e){return document.body.removeChild(t),!1}}catch(e){return console.error("Failed to copy text:",e),!1}}function safeStorageGet(e,t=null){try{const o=localStorage.getItem(e);return o?JSON.parse(o):t}catch(e){return console.warn("Error reading from localStorage:",e),t}}function safeStorageSet(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(e){return console.error("Error writing to localStorage:",e),!1}}function memoizeLocal(e,t,o){const r=Date.now(),n=safeStorageGet(e,null);if(n&&"object"==typeof n&&"number"==typeof n.expiresAt&&n.expiresAt>r)return n.value;const a=t();return a&&"function"==typeof a.then?a.then(t=>(safeStorageSet(e,{value:t,expiresAt:r+(o>0?o:0)}),t)):(safeStorageSet(e,{value:a,expiresAt:r+(o>0?o:0)}),a)}async function cacheJson(e,t=3e5){const o=`json:${e}`,r=Date.now(),n=safeStorageGet(o,null);if(n&&"object"==typeof n&&"number"==typeof n.expiresAt&&n.expiresAt>r)return n.value;const a=await fetch(e,{method:"GET",headers:{Accept:"application/json"}}),c=await a.json();return safeStorageSet(o,{value:c,expiresAt:r+t}),c}window.safeQuery=window.safeQuery||function(e,t=document){try{return t.querySelector(e)}catch(t){return console.warn("Invalid selector:",e,t),null}},window.safeQueryAll=window.safeQueryAll||function(e,t=document){try{return Array.from(t.querySelectorAll(e))}catch(t){return console.warn("Invalid selector:",e,t),[]}},"undefined"!=typeof window&&(window.throttle=throttle,window.debounce=debounce,window.safeQuery=safeQuery,window.safeQueryAll=safeQueryAll,window.formatDate=formatDate,window.validateEmail=validateEmail,window.copyToClipboard=copyToClipboard,window.safeStorageGet=safeStorageGet,window.safeStorageSet=safeStorageSet,window.memoizeLocal=memoizeLocal,window.cacheJson=cacheJson);